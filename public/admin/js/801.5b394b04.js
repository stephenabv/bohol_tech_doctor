"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[801],{7801:function(a,e,t){t.r(e),t.d(e,{default:function(){return j}});var s=t(3396),l=t(7139),c=t(9242);const i={id:"services-data"},o={class:"container mb-4"},n={class:"pkg mt-5 shadow"},d=(0,s.uE)('<div class="row"><div class="col"><h4 class="mx-2 my-2 text-right">Web Development Packages</h4></div><div class="col text-right mt-2 mr-3"><button class="btn btn-success" data-toggle="modal" data-target="#modalForm"> Add New Data </button></div></div>',1),r={class:"col-lg-12 col-md-6"},p={class:"w-100"},m={class:"w-100 table-responsive-md mt-3"},g=(0,s._)("thead",null,[(0,s._)("tr",{class:"text-center"},[(0,s._)("th",{class:"px-4",width:"15%"},"Package"),(0,s._)("th",{class:"px-4",width:"25%"},"Image"),(0,s._)("th",{class:"px-4",width:"15%"},"Price"),(0,s._)("th",{class:"px-4",width:"40%"},"Description"),(0,s._)("th",{class:"px-4",width:"5%"},"Action")])],-1),u={class:"text-center"},h={class:"px-4"},w={class:"px-4"},_=["src","alt"],k={class:"px-4"},b={class:"px-4"},v={class:"px-4"},f=["onClick"],y={class:"modal fade",id:"modalForm",tabindex:"-1",role:"dialog","aria-labelledby":"modalFormLabel","aria-hidden":"true"},P={class:"modal-dialog",role:"document"},x={class:"modal-content"},D=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title",id:"modalFormLabel"},"Add New Package"),(0,s._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,s._)("span",{"aria-hidden":"true"},"Ã—")])],-1),C={class:"modal-body"},F={class:"form-group"},U=(0,s._)("label",{for:"name"},"Package Name:",-1),A={class:"form-group"},N=(0,s._)("label",{for:"image"},"Image:",-1),V={class:"form-group"},Z=(0,s._)("label",{for:"price"},"Price:",-1),q={class:"form-group"},z=(0,s._)("label",{for:"description"},"Description:",-1),E={key:0},I={class:"modal-footer"},L=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1);function S(a,e,t,S,W,H){const K=(0,s.up)("NavbarVue");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(K),(0,s._)("div",o,[(0,s._)("div",n,[d,(0,s._)("div",r,[(0,s._)("div",p,[(0,s._)("table",m,[g,(0,s._)("tbody",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(W.packages,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",h,(0,l.zw)(a.name),1),(0,s._)("td",w,[(0,s._)("img",{src:a.image,alt:a.name,class:"img-fluid m-2 h-25 w-25"},null,8,_)]),(0,s._)("td",k,(0,l.zw)(a.price),1),(0,s._)("td",b,(0,l.zw)(a.info),1),(0,s._)("td",v,[(0,s._)("button",{class:"btn btn-danger",onClick:e=>H.deletePackage(a.id)}," Delete ",8,f)])])))),128))])])])])])]),(0,s._)("div",y,[(0,s._)("div",P,[(0,s._)("div",x,[D,(0,s._)("div",C,[(0,s._)("form",null,[(0,s._)("div",F,[U,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name",required:"","onUpdate:modelValue":e[0]||(e[0]=a=>W.newPackage.name=a)},null,512),[[c.nr,W.newPackage.name]])]),(0,s._)("div",A,[N,(0,s._)("input",{type:"file",class:"form-control-file",accept:"image/*",id:"image",onChange:e[1]||(e[1]=(...a)=>H.handleFileUpload&&H.handleFileUpload(...a))},null,32)]),(0,s._)("div",V,[Z,(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",id:"price",required:"","onUpdate:modelValue":e[2]||(e[2]=a=>W.newPackage.price=a)},null,512),[[c.nr,W.newPackage.price]])]),(0,s._)("div",q,[z,(0,s.wy)((0,s._)("textarea",{id:"description",class:"form-control",rows:"4","onUpdate:modelValue":e[3]||(e[3]=a=>W.newPackage.description=a)},null,512),[[c.nr,W.newPackage.description]])])]),a.success?((0,s.wg)(),(0,s.iD)("div",E,"Package Added Successfully")):(0,s.kq)("",!0)]),(0,s._)("div",I,[L,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>H.savePackage&&H.savePackage(...a))}," Save changes ")])])])])])}t(7658);var W=t(4161),H=t(100),K={components:{NavbarVue:H.Z},data(){return{newPackage:{name:"",image:null,price:0,description:"",success:!1},packages:[]}},methods:{handleFileUpload(a){this.newPackage.image=a.target.files[0]},savePackage(){const a=new FormData;a.append("name",this.newPackage.name),a.append("image",this.newPackage.image),a.append("price",this.newPackage.price),a.append("info",this.newPackage.description),W.Z.post("http://localhost:3000/api/webdevelopment",a).then((a=>{console.log("Package saved successfully!"),this.success=!0,this.packages.push(a.data)})).catch((a=>{console.log("Error saving package: ",a),this.success=!1}))},async fetchData(){try{const a=await W.Z.get("http://localhost:3000/api/webdevelopment");this.packages=a.data}catch(a){console.error(a)}},async deletePackage(a){const e=confirm("Are you sure you want to delete this package?");if(e)try{await W.Z["delete"](`http://localhost:3000/api/webdevelopment/${a}`),this.packages=this.packages.filter((e=>e.id!==a))}catch(t){console.error(t)}}},mounted(){this.fetchData()}},Y=t(89);const $=(0,Y.Z)(K,[["render",S]]);var j=$}}]);
//# sourceMappingURL=801.5b394b04.js.map